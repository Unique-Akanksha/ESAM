
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
     All Leave History
    </ion-title>
    <!-- <ion-buttons slot="start">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons> -->
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/dashboard"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Blank</ion-title>
    </ion-toolbar>
  </ion-header>

  <div id="container">
    <ion-content class="ion-padding"[fullscreen]="true">
      <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
      
      <ion-card>
        <ion-card-content>
          <div class="example-header">
            <ion-searchbar [debounce]="1000" (ionInput)="applyFilter($event)"style="width:96%;margin-top:1%;margin-left:3%;margin-right:3%;"></ion-searchbar>
  
          </div>
          <div class="for_scroll">
            <table mat-table [dataSource]="dataSource" class="my-table mat-elevation-z8" matSort>
              <ng-container matColumnDef="employee_id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee&nbsp;Id </th>
                <td mat-cell *matCellDef="let element">  {{element.employee_id}} </td>
                <!-- <td mat-cell *matCellDef="let element">  {{ getEmployeeName(element.employee_id) | async }}</td> -->
              </ng-container>
              <ng-container matColumnDef="employee_name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee&nbsp;Name </th>
                <td mat-cell *matCellDef="let element"> {{element.employee_name}}</td>
                <!-- <td mat-cell *matCellDef="let element">  {{ getEmployeeName(element.employee_id) | async }}</td> -->
              </ng-container>
              <ng-container matColumnDef="leave_type">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Leave Type </th>
                <td mat-cell *matCellDef="let element"> {{element.leave_type}} </td>
              </ng-container>
              <ng-container matColumnDef="start_date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Start Date</th>
                <td mat-cell *matCellDef="let element"> {{element.start_date}} </td>
              </ng-container>
              <ng-container matColumnDef="end_date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>End Date</th>
                <td mat-cell *matCellDef="let element"> {{element.end_date}} </td>
              </ng-container>
              <ng-container matColumnDef="reason">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Reason</th>
                <td mat-cell *matCellDef="let element"> {{element.reason}} </td>
              </ng-container>
              <ng-container matColumnDef="leave_category">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Leave Category</th>
                <td mat-cell *matCellDef="let element"> {{element.leave_category}} </td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                <td mat-cell *matCellDef="let element"> {{element.status}} </td>
              </ng-container>
              <ng-container matColumnDef="created_at">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Created&nbsp;At</th>
                <td mat-cell *matCellDef="let element"> {{element.created_at}} </td>
              </ng-container>
              <ng-container matColumnDef="checkInTime">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>CheckIn Time</th>
                <td mat-cell *matCellDef="let element"> {{element.checkInTime}} </td>
              </ng-container>
              
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef style="padding-left:60px"> Action </th>
                <td mat-cell *matCellDef="let element" class="action-link">
                  <ion-button color="primary" (click)="openModal(element)">
      
                    <ion-icon name="create"></ion-icon>
                  </ion-button>
                  <ion-button color="danger" (click)="deleteClick(element)">
                    <ion-icon name="trash"></ion-icon>
                  </ion-button>
                </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching {{filterdata}}</td>
              </tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
          </div>
        </ion-card-content>
      </ion-card>
      
    </ion-content>
  </div>

</ion-content>